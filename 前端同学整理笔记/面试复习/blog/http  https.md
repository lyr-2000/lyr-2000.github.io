# http  https

## 什么是http

http（超文本传输协议），运行在TCP/IP协议（网络层协议）之上，是应用层协议，**主要解决如何包装数据**

### 发展历史

从上个世界90年代发布以来，http的版本主要有0.9、1.0、1.1、2.0、3.0

具体有什么区别，可以参考我另一篇博客

### http报文

上面已经说到http最主要的目的就是包装数据，他是通过http报文来把数据进行包装然后传递，http报文由**首部**，**报文主体**两个部分组成，首部和报文主体通过一行，报文结构如下，根据首部中的开始行不同分有**请求报文**和**响应报文**

|   首部   |
| :------: |
| （空行） |
| 报文主体 |

### 请求报文/响应报文

请求报文由三大部分组成，**请求行**，**消息报头**，**请求正文**

响应报文也由三大部分组成，**状态行**，**消息报头**，**响应正文**

### 常见状态码

- 2XX（成功）
  - 200 成功获取服务器数据
  - 204 no content，请求成功，没有数据返回
- 3XX（重定向）
  - 301 永久重定向
  - 302 临时重定向
  - 304 未修改
- 4XX（客户端错误）
  - 400 bad request，请求报文中存在语法错误（可能是传输的字段写错或者没按照格式传输）
  - 403 forbidden，该请求被禁止
  - 404 资源未找到（一般可能是接口地址写错）
  - 405 method not allow，请求方式错误（比如需要post请求，但是用了get请求）
- 5XX（服务器错误）
  - 500  internal Server error ，表示服务器端在执行请求时发生了错误
  - 502 bad gateway，无效响应
  - 503 service unavailable ，服务器超时，服务器超负载或正在进行停机维护

## http + s（security）= https

为什么需要https

HTTP虽然使用极为广泛, 但是却存在不小的安全缺陷, 主要是其数据的明文传送和消息完整性检测的缺乏, 而这两点恰好是网络支付,网络交易等新兴应用中安全方面最需要关注的，https是建立在http之上，在HTTP 的基础下加入TLS/SSL，通过传输加密和身份认证，来保证数据的安全性。

**https = http + TLS/SSL + 身份认证 + 完整行保护**

### https连接过程

![img](http://avocado.oa.com/fconv/files/201812/84b04ee7a7e47af5212b240273619f9e.files/doc_image_4_w462_h643.jpg)

### 身份认证

来一个生活场景，我买了一张飞往北京的机票，如果在没有身份认证的情况下，假如有人知道我买了一张机票并且提前前往机场领取机票，那么我就损失了上千元，所以我们就需要验证身份，证明你本人是你本人，那么我们拿机票时就需要**身份证**，由**权威**的政府机关颁发

那么https也是通过专门的权威机构**CA**（Certificate Authority）来颁发**证书**来确定你身份的真实性

