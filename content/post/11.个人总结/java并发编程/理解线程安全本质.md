---
title: "çº¿ç¨‹å®‰å…¨çš„æœ¬è´¨"
date: 2021-08-17T13:48:22+08:00
draft: false
author: LYR
---



## çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«

ä½œè€…ï¼špeonyX
é“¾æŽ¥ï¼šhttps://www.nowcoder.com/discuss/723383?source_id=profile_create_nctrack&channel=-1
æ¥æºï¼šç‰›å®¢ç½‘

è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼šè¿›ç¨‹æ˜¯è°ƒåº¦èµ„æºçš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯æ‰§è¡Œä»»åŠ¡çš„åŸºæœ¬å•ä½ã€‚è¿›ç¨‹æœ‰è‡ªå·±çš„**ç‹¬ç«‹æ•°æ®ç©ºé—´**ï¼Œ**ç¨‹åºåˆ‡æ¢**çš„å¼€é”€å¤§ï¼Œ**çº¿ç¨‹å…±äº«ä¸€ä¸ªè¿›ç¨‹çš„æ•°æ®ç©ºé—´**ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰**è‡ªå·±ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨**ï¼Œçº¿ç¨‹ä¹‹é—´å¼€é”€å°ã€‚**è¿›ç¨‹ä¹‹é—´çš„èµ„æºéš”ç¦»ï¼Œå…±äº«å¤æ‚ï¼Œçº¿ç¨‹çš„å…±äº«èµ„æºç®€å•**ã€‚çº¿ç¨‹çš„ç›®çš„æ˜¯ä¸ºäº†å¹¶å‘ï¼Œ**å› ä¸ºçº¿ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢å¿«ï¼Œå¯ä»¥æé«˜å¹¶å‘æ•ˆçŽ‡ã€‚**



 



## è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œ6ç§-é‡ç‚¹

1.ç®¡é“ï¼šå•å‘çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸¤æ¡ç®¡é“ï¼›åªèƒ½ç”¨äºŽçˆ¶å­è¿›ç¨‹ï¼Œå…„å¼Ÿè¿›ç¨‹ï¼ˆäº²ç¼˜å…³ç³»ï¼‰ï¼›æ•°æ®å…ˆè¿›å…ˆå‡ºï¼›ç¼“å†²åŒºæ˜¯ä¸€ä¸ªå¾ªçŽ¯é˜Ÿåˆ—ï¼Œæ»¡äº†ä¹‹åŽä¼šæ‰”åˆ°é˜»å¡žé˜Ÿåˆ—é‡Œé¢
2.æœ‰åç®¡é“ï¼šä¸éœ€è¦å¿…é¡»çˆ¶å­è¿›ç¨‹ï¼Œå…„å¼Ÿè¿›ç¨‹ï¼›ä¹Ÿæ˜¯å…ˆè¿›å…ˆå‡º
3.ä¿¡å·ï¼šæ¯”å¦‚kill -9ä¼šå‘é€SIGKILLä¿¡å·
4.æ¶ˆæ¯é˜Ÿåˆ—ï¼šæ¶ˆæ¯é˜Ÿåˆ—åœ¨å†…å­˜ä¸­ï¼Œå…è®¸å¤šä¸ªè¿›ç¨‹å†™å…¥æˆ–è€…è¯»å–ï¼›ä¹Ÿæ˜¯å…ˆè¿›å…ˆå‡º
5.å…±äº«å†…å­˜ï¼šå¤šä¸ªè¿›ç¨‹å¯ä»¥è¯»å†™åŒä¸€å—ç©ºé—´
6.socket

 



## å­¤å„¿è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹

å­¤å„¿è¿›ç¨‹è¡¨ç¤ºçˆ¶è¿›ç¨‹é€€å‡ºäº†ï¼Œä½†æ˜¯å­è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œè¿™äº›å°±æ˜¯å­¤å„¿è¿›ç¨‹ï¼Œå­¤å„¿è¿›ç¨‹ä¼šè¢«initè¿›ç¨‹ï¼ˆè¿›ç¨‹å·ä¸º1ï¼‰å›žæ”¶ï¼Œæ‰€ä»¥åŸºæœ¬ä¸ä¼šæœ‰é—®é¢˜ã€‚åƒµå°¸è¿›ç¨‹æ˜¯å­è¿›ç¨‹æ­£å¸¸é€€å‡ºï¼Œä¼šç»™çˆ¶è¿›ç¨‹å‘é€ä¿¡å·ï¼Œå‘Šè¯‰çˆ¶è¿›ç¨‹é‡Šæ”¾æŽ‰è¿›ç¨‹å·ï¼Œä½†æ˜¯å¦‚æžœçˆ¶è¿›ç¨‹ä¸é€‰æ‹©æŽ¥å—ï¼Œä¸è°ƒç”¨wait/waitpidï¼Œè¿›ç¨‹å·å°†ä¸ä¼šè¢«é‡Šæ”¾ã€‚https://www.cnblogs.com/anker/p/3271773.html



## ä¸ºä»€ä¹ˆçº¿ç¨‹åˆ‡æ¢å¿«

[å­¦ä¹ è§†é¢‘](https://www.bilibili.com/video/BV1H541187UH?from=search&seid=936797954987185311)



æœ€ä¸»è¦çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºŽè¿›ç¨‹åˆ‡æ¢æ¶‰åŠè™šæ‹Ÿåœ°å€ç©ºé—´çš„åˆ‡æ¢è€Œçº¿ç¨‹ä¸ä¼šã€‚å› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œè€Œçº¿ç¨‹æ˜¯å…±äº«æ‰€åœ¨è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„ï¼Œå› æ­¤åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹è¿›è¡Œçº¿ç¨‹åˆ‡æ¢æ—¶ä¸æ¶‰åŠè™šæ‹Ÿåœ°å€ç©ºé—´çš„è½¬æ¢ã€‚
æœ‰çš„åŒå­¦å¯èƒ½è¿˜æ˜¯ä¸å¤ªæ˜Žç™½ï¼Œä¸ºä»€ä¹ˆè™šæ‹Ÿåœ°å€ç©ºé—´åˆ‡æ¢ä¼šæ¯”è¾ƒè€—æ—¶å‘¢ï¼Ÿ
çŽ°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†è¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ŒæŠŠè™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€éœ€è¦æŸ¥æ‰¾é¡µè¡¨ï¼Œé¡µè¡¨æŸ¥æ‰¾æ˜¯ä¸€ä¸ªå¾ˆæ…¢çš„è¿‡ç¨‹ï¼Œå› æ­¤é€šå¸¸ä½¿ç”¨Cacheæ¥ç¼“å­˜å¸¸ç”¨çš„åœ°å€æ˜ å°„ï¼Œè¿™æ ·å¯ä»¥åŠ é€Ÿé¡µè¡¨æŸ¥æ‰¾ï¼Œè¿™ä¸ªcacheå°±æ˜¯TLBï¼ˆtranslation Lookaside Bufferï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¿™ä¸ªåå­—åªéœ€è¦çŸ¥é“TLBæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªcacheï¼Œæ˜¯ç”¨æ¥åŠ é€Ÿé¡µè¡¨æŸ¥æ‰¾çš„ï¼‰ã€‚ç”±äºŽæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œé‚£ä¹ˆæ˜¾ç„¶æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„é¡µè¡¨ï¼Œé‚£ä¹ˆå½“è¿›ç¨‹åˆ‡æ¢åŽé¡µè¡¨ä¹Ÿè¦è¿›è¡Œåˆ‡æ¢ï¼Œé¡µè¡¨åˆ‡æ¢åŽTLBå°±å¤±æ•ˆäº†ï¼Œcacheå¤±æ•ˆå¯¼è‡´å‘½ä¸­çŽ‡é™ä½Žï¼Œé‚£ä¹ˆè™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€å°±ä¼šå˜æ…¢ï¼Œè¡¨çŽ°å‡ºæ¥çš„å°±æ˜¯ç¨‹åºè¿è¡Œä¼šå˜æ…¢ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢åˆ™ä¸ä¼šå¯¼è‡´TLBå¤±æ•ˆï¼Œå› ä¸ºçº¿ç¨‹çº¿ç¨‹æ— éœ€åˆ‡æ¢åœ°å€ç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸è¯´çº¿ç¨‹åˆ‡æ¢è¦æ¯”è¾ƒè¿›ç¨‹åˆ‡æ¢å—ï¼ŒåŽŸå› å°±åœ¨è¿™é‡Œã€‚

ä½œè€…ï¼špeonyX
é“¾æŽ¥ï¼šhttps://www.nowcoder.com/discuss/723383?source_id=profile_create_nctrack&channel=-1
æ¥æºï¼šç‰›å®¢ç½‘

## å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„åŒºåˆ«

å†…æ ¸æ€å¯ä»¥è®¿é—®æ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬ç¡¬ç›˜ï¼Œç½‘å¡ï¼Œä¹Ÿå¯ä»¥åˆ‡æ¢ç¨‹åºã€‚ç”¨æˆ·æ€åªèƒ½è®¿é—®å—é™çš„å†…å­˜ï¼Œä¸èƒ½è®¿é—®å¤–å›´è®¾å¤‡ï¼Œå ç”¨CPUçš„èƒ½åŠ›è¢«å‰¥å¤ºã€‚

## è¿›ç¨‹è°ƒåº¦[ç®—æ³•](https://www.nowcoder.com/jump/super-jump/word?word=ç®—æ³•)

å…ˆè¿›å…ˆå‡ºï¼Œæœ€çŸ­è€—æ—¶ä¼˜å…ˆï¼Œæ—¶é—´ç‰‡è½®è½¬ï¼Œå¤šçº§åé¦ˆé˜Ÿåˆ—ã€‚https://www.jianshu.com/p/ecfddbc0af2d

â€‹	1ã€æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦[ç®—æ³•](https://link.jianshu.com?t=http://lib.csdn.net/base/datastructure)ï¼ˆRRï¼‰ï¼šç»™æ¯ä¸ªè¿›ç¨‹å›ºå®šçš„æ‰§è¡Œæ—¶é—´ï¼Œæ ¹æ®è¿›ç¨‹åˆ°è¾¾çš„å…ˆåŽé¡ºåºè®©è¿›ç¨‹åœ¨å•ä½æ—¶é—´ç‰‡å†…æ‰§è¡Œï¼Œæ‰§è¡Œå®ŒæˆåŽä¾¿è°ƒåº¦ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œæ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ä¸è€ƒè™‘è¿›ç¨‹ç­‰å¾…æ—¶é—´å’Œæ‰§è¡Œæ—¶é—´ï¼Œå±žäºŽæŠ¢å å¼è°ƒåº¦ã€‚ä¼˜ç‚¹æ˜¯å…¼é¡¾é•¿çŸ­ä½œä¸šï¼›ç¼ºç‚¹æ˜¯å¹³å‡ç­‰å¾…æ—¶é—´è¾ƒé•¿ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢è¾ƒè´¹æ—¶ã€‚é€‚ç”¨äºŽåˆ†æ—¶ç³»ç»Ÿã€‚
 2ã€å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³•ï¼ˆFCFSï¼‰ï¼šæ ¹æ®è¿›ç¨‹åˆ°è¾¾çš„å…ˆåŽé¡ºåºæ‰§è¡Œè¿›ç¨‹ï¼Œä¸è€ƒè™‘ç­‰å¾…æ—¶é—´å’Œæ‰§è¡Œæ—¶é—´ï¼Œä¼šäº§ç”Ÿé¥¥é¥¿çŽ°è±¡ã€‚å±žäºŽéžæŠ¢å å¼è°ƒåº¦ï¼Œä¼˜ç‚¹æ˜¯å…¬å¹³ï¼Œå®žçŽ°ç®€å•ï¼›ç¼ºç‚¹æ˜¯ä¸åˆ©äºŽçŸ­ä½œä¸šã€‚
 3ã€ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•ï¼ˆHPFï¼‰ï¼šåœ¨è¿›ç¨‹ç­‰å¾…é˜Ÿåˆ—ä¸­é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„æ¥æ‰§è¡Œã€‚
 4ã€å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ï¼šå°†æ—¶é—´ç‰‡è½®è½¬ä¸Žä¼˜å…ˆçº§è°ƒåº¦ç›¸ç»“åˆï¼ŒæŠŠè¿›ç¨‹æŒ‰ä¼˜å…ˆçº§åˆ†æˆä¸åŒçš„é˜Ÿåˆ—ï¼Œå…ˆæŒ‰ä¼˜å…ˆçº§è°ƒåº¦ï¼Œä¼˜å…ˆçº§ç›¸åŒçš„ï¼ŒæŒ‰æ—¶é—´ç‰‡è½®è½¬ã€‚ä¼˜ç‚¹æ˜¯å…¼é¡¾é•¿çŸ­ä½œä¸šï¼Œæœ‰è¾ƒå¥½çš„å“åº”æ—¶é—´ï¼Œå¯è¡Œæ€§å¼ºï¼Œé€‚ç”¨äºŽå„ç§ä½œä¸šçŽ¯å¢ƒã€‚
 5ã€é«˜å“åº”æ¯”ä¼˜å…ˆè°ƒåº¦ç®—æ³•ï¼šæ ¹æ®â€œå“åº”æ¯”=ï¼ˆè¿›ç¨‹æ‰§è¡Œæ—¶é—´+è¿›ç¨‹ç­‰å¾…æ—¶é—´ï¼‰/ è¿›ç¨‹æ‰§è¡Œæ—¶é—´â€è¿™ä¸ªå…¬å¼å¾—åˆ°çš„å“åº”æ¯”æ¥è¿›è¡Œè°ƒåº¦ã€‚é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•åœ¨ç­‰å¾…æ—¶é—´ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œä½œä¸šæ‰§è¡Œçš„æ—¶é—´è¶ŠçŸ­ï¼Œå“åº”æ¯”è¶Šé«˜ï¼Œæ»¡è¶³æ®µä»»åŠ¡ä¼˜å…ˆï¼ŒåŒæ—¶å“åº”æ¯”ä¼šéšç€ç­‰å¾…æ—¶é—´å¢žåŠ è€Œå˜å¤§ï¼Œä¼˜å…ˆçº§ä¼šæé«˜ï¼Œèƒ½å¤Ÿé¿å…é¥¥é¥¿çŽ°è±¡ã€‚ä¼˜ç‚¹æ˜¯å…¼é¡¾é•¿çŸ­ä½œä¸šï¼Œç¼ºç‚¹æ˜¯è®¡ç®—å“åº”æ¯”å¼€é”€å¤§ï¼Œé€‚ç”¨äºŽæ‰¹å¤„ç†ç³»ç»Ÿã€‚



ä½œè€…ï¼šéŸ©æ•…
é“¾æŽ¥ï¼šhttps://www.jianshu.com/p/ecfddbc0af2d
æ¥æºï¼šç®€ä¹¦
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚



## è™šæ‹Ÿå†…å­˜

è™šæ‹Ÿå†…å­˜ ä½¿å¾—åº”ç”¨ç¨‹åºè®¤ä¸ºå®ƒæ‹¥æœ‰è¿žç»­çš„å¯ç”¨çš„å†…å­˜ï¼ˆä¸€ä¸ªè¿žç»­å®Œæ•´çš„åœ°å€ç©ºé—´ï¼‰ï¼Œè€Œå®žé™…ä¸Šï¼Œå®ƒé€šå¸¸æ˜¯è¢«åˆ†éš”æˆå¤šä¸ªç‰©ç†å†…å­˜ç¢Žç‰‡ï¼Œè¿˜æœ‰éƒ¨åˆ†æš‚æ—¶å­˜å‚¨åœ¨å¤–éƒ¨ç£ç›˜å­˜å‚¨å™¨ä¸Šã€‚æ¯ä¸ªè¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´æœ‰è®¸å¤šé¡µï¼Œè¿™äº›é¡µä¸ç”¨æ‰€æœ‰éƒ½åœ¨å†…å­˜ä¸­æ‰èƒ½è¿è¡Œç¨‹åºï¼Œæ‰€ä»¥ä¸€éƒ¨åˆ†å­˜åœ¨ç£ç›˜ä¸­ï¼Œéœ€è¦çš„æ—¶å€™å†æ˜ å°„











## å…¶ä»–





ç¨‹åºé‡Œå¤§éƒ¨åˆ†è¯­å¥éƒ½è¦è®¿é—®å†…å­˜ï¼Œæœ‰äº›è¿˜è¦è®¿é—® I/Oï¼Œæ ¹æ®æœ¨æ¡¶ç†è®ºï¼ˆä¸€åªæ°´æ¡¶èƒ½è£…å¤šå°‘æ°´å–å†³äºŽå®ƒæœ€çŸ­çš„é‚£å—æœ¨æ¿ï¼‰ï¼Œç¨‹åºæ•´ä½“çš„æ€§èƒ½å–å†³äºŽæœ€æ…¢çš„æ“ä½œâ€”â€”è¯»å†™ I/O è®¾å¤‡ï¼Œä¹Ÿå°±æ˜¯è¯´å•æ–¹é¢æé«˜ CPU æ€§èƒ½æ˜¯æ— æ•ˆçš„ã€‚

ä¸ºäº†åˆç†åˆ©ç”¨ CPU çš„é«˜æ€§èƒ½ï¼Œå¹³è¡¡è¿™ä¸‰è€…çš„é€Ÿåº¦å·®å¼‚ï¼Œè®¡ç®—æœºä½“ç³»æœºæž„ã€æ“ä½œç³»ç»Ÿã€ç¼–è¯‘ç¨‹åºéƒ½åšå‡ºäº†è´¡çŒ®ï¼Œä¸»è¦ä½“çŽ°ä¸ºï¼š

1. CPU å¢žåŠ äº†ç¼“å­˜ï¼Œä»¥å‡è¡¡ä¸Žå†…å­˜çš„é€Ÿåº¦å·®å¼‚ï¼›
2. æ“ä½œç³»ç»Ÿå¢žåŠ äº†è¿›ç¨‹ã€çº¿ç¨‹ï¼Œä»¥**åˆ†æ—¶å¤ç”¨** CPUï¼Œè¿›è€Œå‡è¡¡ CPU ä¸Ž I/O è®¾å¤‡çš„é€Ÿåº¦å·®å¼‚ï¼›
3. **ç¼–è¯‘ç¨‹åºä¼˜åŒ–æŒ‡ä»¤æ‰§è¡Œæ¬¡åº**ï¼Œä½¿å¾—ç¼“å­˜èƒ½å¤Ÿå¾—åˆ°æ›´åŠ åˆç†åœ°åˆ©ç”¨ã€‚



## çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æœ¬è´¨



æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å‰¯æœ¬ç¼–ç¨‹ã€CPU ç¼“å­˜ã€‘ï¼Œ ä¿®æ”¹å¤šçº¿ç¨‹ä¿®æ”¹å˜é‡ æ˜¯ä¿®æ”¹è‡ªå·±çš„ç¼“å­˜ï¼Œç„¶åŽå†å°†ç¼“å­˜å†™å›žä¸»å­˜ï¼Œè¿™æ ·å°± å¯èƒ½å¯¼è‡´å¤šçº¿ç¨‹ å˜é‡å‰¯æœ¬çš„ä¸ä¸€è‡´æ€§





## æºå¤´ä¹‹ä¸‰ï¼šç¼–è¯‘ä¼˜åŒ–å¸¦æ¥çš„æœ‰åºæ€§é—®é¢˜

é‚£å¹¶å‘ç¼–ç¨‹é‡Œè¿˜æœ‰æ²¡æœ‰å…¶ä»–æœ‰è¿ç›´è§‰å®¹æ˜“å¯¼è‡´è¯¡å¼‚ Bug çš„æŠ€æœ¯å‘¢ï¼Ÿæœ‰çš„ï¼Œå°±æ˜¯æœ‰åºæ€§ã€‚é¡¾åæ€ä¹‰ï¼Œæœ‰åºæ€§æŒ‡çš„æ˜¯ç¨‹åºæŒ‰ç…§ä»£ç çš„å…ˆåŽé¡ºåºæ‰§è¡Œã€‚ç¼–è¯‘å™¨ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæœ‰æ—¶å€™ä¼šæ”¹å˜ç¨‹åºä¸­è¯­å¥çš„å…ˆåŽé¡ºåºï¼Œä¾‹å¦‚ç¨‹åºä¸­ï¼šâ€œa=6ï¼›b=7ï¼›â€ç¼–è¯‘å™¨ä¼˜åŒ–åŽå¯èƒ½å˜æˆâ€œb=7ï¼›a=6ï¼›â€ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¼–è¯‘å™¨è°ƒæ•´äº†è¯­å¥çš„é¡ºåºï¼Œä½†æ˜¯ä¸å½±å“ç¨‹åºçš„æœ€ç»ˆç»“æžœã€‚ä¸è¿‡æœ‰æ—¶å€™ç¼–è¯‘å™¨åŠè§£é‡Šå™¨çš„ä¼˜åŒ–å¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„ Bugã€‚

åœ¨ Java é¢†åŸŸä¸€ä¸ªç»å…¸çš„æ¡ˆä¾‹å°±æ˜¯åˆ©ç”¨åŒé‡æ£€æŸ¥åˆ›å»ºå•ä¾‹å¯¹è±¡ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼šåœ¨èŽ·å–å®žä¾‹ getInstance() çš„æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ¤æ–­ instance æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æžœä¸ºç©ºï¼Œåˆ™é”å®š Singleton.class å¹¶å†æ¬¡æ£€æŸ¥ instance æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æžœè¿˜ä¸ºç©ºåˆ™åˆ›å»º Singleton çš„ä¸€ä¸ªå®žä¾‹ã€‚



```java
public class Singleton {
  static Singleton instance;
  static Singleton getInstance(){
    if (instance == null) {
      synchronized(Singleton.class) {
        if (instance == null){ 
          instance = new Singleton();
        }
      }
    }
    return instance;
  }
}
```



longç±»åž‹64ä½ï¼Œæ‰€ä»¥åœ¨32ä½çš„æœºå™¨ä¸Šï¼Œå¯¹longç±»åž‹çš„æ•°æ®æ“ä½œé€šå¸¸éœ€è¦å¤šæ¡æŒ‡ä»¤ç»„åˆå‡ºæ¥ï¼Œæ— æ³•ä¿è¯åŽŸå­æ€§ï¼Œæ‰€ä»¥å¹¶å‘çš„æ—¶å€™ä¼šå‡ºé—®é¢˜ðŸŒ

### çº¿ç¨‹çš„å‡ ç§è¿è¡ŒçŠ¶æ€



1. **åˆå§‹(NEW)**ï¼šæ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•ã€‚
2. **è¿è¡Œ(RUNNABLE)**ï¼šJavaçº¿ç¨‹ä¸­å°†å°±ç»ªï¼ˆreadyï¼‰å’Œè¿è¡Œä¸­ï¼ˆrunningï¼‰ä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä¸ºâ€œè¿è¡Œâ€ã€‚ çº¿ç¨‹å¯¹è±¡åˆ›å»ºåŽï¼Œå…¶ä»–çº¿ç¨‹(æ¯”å¦‚mainçº¿ç¨‹ï¼‰è°ƒç”¨äº†è¯¥å¯¹è±¡çš„start()æ–¹æ³•ã€‚è¯¥çŠ¶æ€çš„çº¿ç¨‹ä½äºŽå¯è¿è¡Œçº¿ç¨‹æ± ä¸­ï¼Œç­‰å¾…è¢«çº¿ç¨‹è°ƒåº¦é€‰ä¸­ï¼ŒèŽ·å–CPUçš„ä½¿ç”¨æƒï¼Œæ­¤æ—¶å¤„äºŽå°±ç»ªçŠ¶æ€ï¼ˆreadyï¼‰ã€‚å°±ç»ªçŠ¶æ€çš„çº¿ç¨‹åœ¨èŽ·å¾—CPUæ—¶é—´ç‰‡åŽå˜ä¸ºè¿è¡Œä¸­çŠ¶æ€ï¼ˆrunningï¼‰ã€‚
3. **é˜»å¡ž(BLOCKED)**ï¼šè¡¨ç¤ºçº¿ç¨‹é˜»å¡žäºŽé”ã€‚
4. **ç­‰å¾…(WAITING)**ï¼šè¿›å…¥è¯¥çŠ¶æ€çš„çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹åšå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰ã€‚
5. **è¶…æ—¶ç­‰å¾…(TIMED_WAITING)**ï¼šè¯¥çŠ¶æ€ä¸åŒäºŽWAITINGï¼Œå®ƒå¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´åŽè‡ªè¡Œè¿”å›žã€‚
6. **ç»ˆæ­¢(TERMINATED)**ï¼šè¡¨ç¤ºè¯¥çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚

![https://img.xiaoyou66.com/2021/03/30/6778942ce47c4.jpeg](https://img.xiaoyou66.com/2021/03/30/6778942ce47c4.jpeg)





## java synchronized å…³é”®å­—åŽŸç†

### ç®¡ç¨‹



Synchronized å…³é”®å­— å…¶å®žæ˜¯ ç®¡ç¨‹ã€monitorã€‘ å®žçŽ°çš„ï¼Œ monitor enter å’Œ monitor exitï¼Œç”¨æ±‡ç¼–æ¥è¯´







ä¸ºä»€ä¹ˆ Java åœ¨ 1.5 ä¹‹å‰ä»…ä»…æä¾›äº† synchronized å…³é”®å­—åŠ wait()ã€notify()ã€notifyAll() è¿™ä¸‰ä¸ªçœ‹ä¼¼ä»Žå¤©è€Œé™çš„æ–¹æ³•ï¼Ÿåœ¨åˆšæŽ¥è§¦ Java çš„æ—¶å€™ï¼Œæˆ‘ä»¥ä¸ºå®ƒä¼šæä¾›ä¿¡å·é‡è¿™ç§ç¼–ç¨‹åŽŸè¯­ï¼Œå› ä¸ºæ“ä½œç³»ç»ŸåŽŸç†è¯¾ç¨‹å‘Šè¯‰æˆ‘ï¼Œç”¨ä¿¡å·é‡èƒ½è§£å†³æ‰€æœ‰å¹¶å‘é—®é¢˜ï¼Œç»“æžœæˆ‘å‘çŽ°ä¸æ˜¯ã€‚åŽæ¥æˆ‘æ‰¾åˆ°äº†åŽŸå› ï¼šJava é‡‡ç”¨çš„æ˜¯ç®¡ç¨‹æŠ€æœ¯ï¼Œsynchronized å…³é”®å­—åŠ wait()ã€notify()ã€notifyAll() è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ç®¡ç¨‹çš„ç»„æˆéƒ¨åˆ†ã€‚è€Œ**ç®¡ç¨‹å’Œä¿¡å·é‡æ˜¯ç­‰ä»·çš„ï¼Œæ‰€è°“ç­‰ä»·æŒ‡çš„æ˜¯ç”¨ç®¡ç¨‹èƒ½å¤Ÿå®žçŽ°ä¿¡å·é‡ï¼Œä¹Ÿèƒ½ç”¨ä¿¡å·é‡å®žçŽ°ç®¡ç¨‹**ã€‚ä½†æ˜¯ç®¡ç¨‹æ›´å®¹æ˜“ä½¿ç”¨ï¼Œæ‰€ä»¥ Java é€‰æ‹©äº†ç®¡ç¨‹ã€‚



####  MESA æ¨¡åž‹

åœ¨ç®¡ç¨‹çš„å‘å±•å²ä¸Šï¼Œå…ˆåŽå‡ºçŽ°è¿‡ä¸‰ç§ä¸åŒçš„ç®¡ç¨‹æ¨¡åž‹ï¼Œåˆ†åˆ«æ˜¯ï¼šHasen æ¨¡åž‹ã€Hoare æ¨¡åž‹å’Œ MESA æ¨¡åž‹ã€‚å…¶ä¸­ï¼ŒçŽ°åœ¨å¹¿æ³›åº”ç”¨çš„æ˜¯ MESA æ¨¡åž‹ï¼Œå¹¶ä¸” Java ç®¡ç¨‹çš„å®žçŽ°å‚è€ƒçš„ä¹Ÿæ˜¯ MESA æ¨¡åž‹ã€‚æ‰€ä»¥ä»Šå¤©æˆ‘ä»¬é‡ç‚¹ä»‹ç»ä¸€ä¸‹ MESA æ¨¡åž‹ã€‚

ç®¡ç¨‹è§£å†³äº’æ–¥é—®é¢˜çš„æ€è·¯å¾ˆç®€å•ï¼Œå°±æ˜¯å°†å…±äº«å˜é‡åŠå…¶å¯¹å…±äº«å˜é‡çš„æ“ä½œç»Ÿä¸€å°è£…èµ·æ¥ã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œç®¡ç¨‹ X å°†å…±äº«å˜é‡ queue è¿™ä¸ªé˜Ÿåˆ—å’Œç›¸å…³çš„æ“ä½œå…¥é˜Ÿ enq()ã€å‡ºé˜Ÿ deq() éƒ½å°è£…èµ·æ¥äº†ï¼›çº¿ç¨‹ A å’Œçº¿ç¨‹ B å¦‚æžœæƒ³è®¿é—®å…±äº«å˜é‡ queueï¼Œåªèƒ½é€šè¿‡è°ƒç”¨ç®¡ç¨‹æä¾›çš„ enq()ã€deq() æ–¹æ³•æ¥å®žçŽ°ï¼›enq()ã€deq() ä¿è¯äº’æ–¥æ€§ï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ç®¡ç¨‹ã€‚ä¸çŸ¥ä½ æœ‰æ²¡æœ‰å‘çŽ°ï¼Œç®¡ç¨‹æ¨¡åž‹å’Œé¢å‘å¯¹è±¡é«˜åº¦å¥‘åˆçš„ã€‚ä¼°è®¡è¿™ä¹Ÿæ˜¯ Java é€‰æ‹©ç®¡ç¨‹çš„åŽŸå› å§ã€‚è€Œæˆ‘åœ¨å‰é¢ç« èŠ‚ä»‹ç»çš„äº’æ–¥é”ç”¨æ³•ï¼Œå…¶èƒŒåŽçš„æ¨¡åž‹å…¶å®žå°±æ˜¯å®ƒã€‚

![image-20210818203515442](https://cdn.jsdelivr.net/gh/lyr-2000/images_repo_2021_ASUS/2021_08_18_20__35_17image-20210818203515442.png)











## epollä¸¤ç§å·¥ä½œæ¨¡å¼

æ°´å¹³è§¦å‘(æ²¡å†™å®Œä¸æ–­é€šçŸ¥)ï¼Œè¾¹ç¼˜è§¦å‘ï¼ˆåªé€šçŸ¥ä¸€æ¬¡ï¼‰ï¼ŒLTæ˜¯é»˜è®¤çš„æ¨¡å¼ï¼ŒETæ˜¯â€œé«˜é€Ÿâ€æ¨¡å¼ã€‚LTæ¨¡å¼ä¸‹ï¼Œåªè¦è¿™ä¸ªfdè¿˜æœ‰æ•°æ®å¯è¯»ï¼Œæ¯æ¬¡ epoll_waitéƒ½ä¼šè¿”å›žå®ƒçš„äº‹ä»¶ï¼Œæé†’ç”¨æˆ·ç¨‹åºåŽ»æ“ä½œï¼Œè€Œåœ¨ETï¼ˆè¾¹ç¼˜è§¦å‘ï¼‰æ¨¡å¼ä¸­ï¼Œå®ƒåªä¼šæç¤ºä¸€æ¬¡ï¼Œç›´åˆ°ä¸‹æ¬¡å†æœ‰æ•°æ®æµå…¥ä¹‹å‰éƒ½ä¸ä¼šå†æç¤ºäº†ï¼Œæ—  è®ºfdä¸­æ˜¯å¦è¿˜æœ‰æ•°æ®å¯è¯» => https://www.jianshu.com/p/73e9ef7902e1







