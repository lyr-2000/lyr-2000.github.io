---
title: "进程操作"
date: 2021-08-17T13:48:22+08:00
draft: false
author: LYR

---



##  进程间通信的几种方式



- 管道pipe：管道是一种半双工的通信方式，数据只能单向流动，而且只能在**具有亲缘关系的进程间**使用。进程的亲缘关系通常是指父子进程关系。
- 命名管道FIFO：有名管道也是半双工的通信方式，但是它允许**无亲缘关系进程间**的通信。
  消息队列MessageQueue：消息队列是由消息的链表，存放在内核中并由消息队列标识符标识。消息队列克服了信号传递信息少、管道只能承载无格式字节流以及缓冲区大小受限等缺点。
- 共享存储SharedMemory：共享内存就是映射一段能被其他进程所访问的内存，这段共享内存由一个进程创建，但多个进程都可以访问。共享内存是最快的 IPC 方式，它是针对其他进程间通信方式运行效率低而专门设计的。它往往与其他通信机制，如信号量，配合使用，来实现进程间的同步和通信。
- 信号量Semaphore：信号量是一个计数器，可以用来**控制多个进程对共享资源**的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。
  套接字Socket：套解口也是一种进程间通信机制，与其他通信机制不同的是，它可用于不同及其间的进程通信。
- 信号 ( sinal ) ： 信号是一种比较复杂的通信方式，用于**通知接收进程某个事件**已经发生。
- 套接字： socket







```shell
kill -l
# 列出所有信号

```

系统会发送一个SIGTERM的信号给对应的程序。当程序接收到该signal后，将会发生以下的事情

1. 程序立刻停止
2. 当程序释放相应资源后再停止
3. 程序可能仍然继续运行

   大部分程序接收到SIGTERM信号后，会先释放自己的资源，然后在停止。但是也有程序可以在接受到信号量后，做一些其他的事情，并且这些事情是可以

   配置的。如果程序正在等待IO，可能就不会立马做出相应。

　　也就是说，SIGTERM多半是会被阻塞的、忽略。



信号跟信号量虽然名字相似度 66.66%，但两者用途完全不一样，就好像 Java 和 JavaScript 的区别。

在 Linux 操作系统中， 为了响应各种各样的事件，提供了几十种信号，分别代表不同的意义。我们可以通过 kill -l 命令，查看所有的信号。

运行在 shell 终端的进程，我们可以通过键盘输入某些组合键的时候，给进程发送信号。例如

Ctrl+C 产生 $ SIGINT $ 信号，表示终止该进程；
Ctrl+Z 产生 $ SIGTSTP $ 信号，表示停止该进程，但还未结束；
如果进程在后台运行，可以通过 kill 命令的方式给进程发送信号，但前提需要知道运行中的进程 PID 号，例如：

kill -9 1050 ，表示给 PID 为 1050 的进程发送 SIGKILL 信号，用来立即结束该进程；
 







##  socket 概念

1. socket 有很多个意思 ，本意就是 端到端的一个连接， 但是 linux 中的socket 和 这个 socket 不是一个意思 【 linux 中 进程 基于socket 的通信 ，这个 socket 不是走的网络协议的，而是走文件系统实现的socket通信】
2. 操作系统中有提到 socket 是用来进程间通信的，它和通常说 的 tcp/ip 的 socket 的概念十分相似，代表操作系统中传输数据的两方，只是 它不再基于网络协议，而是操作系统本身的文件系统
3. 网络中 的socket 原理： 是指 操作系统中 提供的对于传输层 (TCP/UDP) 抽象的接口。 现行的socket API 大致都是经循了 BSD socket规范 （包括 windows）。 这里称规范其实不太准确， 规范其实是 POSIX ，但 BSD unix 对于 socket 的实现被广为使用，所以成为了实际的规范。 如果你使用 















