---
title: "机器人的运动范围"
date: 2021-08-17T13:48:22+08:00
draft: false
author: LYR
---

地上有一个 $m $行和 $n$ 列的方格，横纵坐标范围分别是$ 0∼m−1$  和 $0∼n−1$  。

一个机器人从坐标 $(0,0)$的格子开始移动，每一次只能向左，右，上，下四个方向移动一格。

但是不能进入行坐标和列坐标的数位之和大于 $k$的格子。

请问该机器人能够达到多少个格子？

#### 样例1

```
输入：k=7, m=4, n=5

输出：20
```

#### 样例2

```
输入：k=18, m=40, n=40

输出：1484

解释：当k为18时，机器人能够进入方格（35,37），因为3+5+3+7 = 18。
      但是，它不能进入方格（35,38），因为3+5+3+8 = 19。
```

**注意**:

1. `0<=m<=50`
2. `0<=n<=50`
3. `0<=k<=100`



## 解题代码





```cpp
class Solution {
public:
    int movingCount(int threshold, int rows, int cols)
    {
        if(rows <= 0 || cols<=0) return 0;
        queue<pair<int,int>> q;
        q.push({0,0});
        vector<vector<bool>> vis(rows+1,vector<bool>(cols + 1));
        int res= 0;
        int dx[4] = {-1, 0, 1, 0}, dy[4] = {0, 1, 0, -1};

        while(q.size()) {
            auto u = q.front();q.pop();
            int x = u.first, y = u.second;
            if(vis[x][y] || getSum(x,y) > threshold) continue;
            vis[x][y] = true;
            ++res;
            for(int i=0;i<4;++i) {
                int nx = x+dx[i],
                    ny = y+dy[i];
                if(nx<0 || nx>=rows || ny<0 || ny>=cols) continue;
                q.push({nx,ny});
            }
            
        }
        return res;
    }
    
    int getSum(int x,int y) {
        int s = 0;
        while(x) s += x%10,x/=10;
        while(y) s+= y%10,y/=10;
        return s;
    }
    
    
};
```











