---
title: "回文子序列"
date: 2021-08-14T22:42:48+08:00
draft: true

---

给定一个长度为 nn 的整数序列 a1,a2,…,an 

请你判断序列 aa 是否包含长度至少为 33 的回文子序列？

#### 输入格式

第一行包含整数 T ，表示共有 T  组测试数据。

每组数据第一行包含整数 nn。

第二行包含 nn 个整数 a1,a2,…,an

#### 输出格式

每组数据输出一行结果。

如果 aa 包含长度至少为 33 的回文子序列，则输出 `YES`，否则输出 `NO`。

#### 数据范围

$ 1≤T≤100 $ 
$ 3≤n≤5000 $ 
$ 1≤a_i≤n $
一个测试点内所有 n 的和不超过 5000

#### 输入样例：

```
5
3
1 2 1
5
1 2 2 3 2
3
1 1 2
4
1 2 2 1
10
1 1 2 2 3 3 4 4 5 5
```

#### 输出样例：

```
YES
YES
NO
YES
NO
```





### 解题代码



```cpp
#include <bits/stdc++.h>
using namespace std;
const int MAXN =  5000+10;
int p[MAXN];
int T,n;

int main()
{
    cin>> T;
    while( T -- ) {
        cin>> n;
        memset(p,-1,sizeof p);
        bool flag = false;
        for(int i=0;i<n;++i) {
            int x;
            cin>>x;
            if(p[x] == -1) p[x] = i;
            if( i - p[x] >=2 ) flag = true;
        }
        if(flag) puts("YES");
        else puts("NO");
    }
    
    return 0;
}
```

